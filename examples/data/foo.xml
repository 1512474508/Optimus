<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ejb-jar xmlns="http://java.sun.com/xml/ns/javaee">
    <enterprise-beans>
        <session id="Movies">
            <ejb-name>Movies</ejb-name>
            <mapped-name></mapped-name>
            <local-bean/>
            <ejb-class>org.superbiz.injection.tx.Movies</ejb-class>
            <session-type>Singleton</session-type>
            <timer>
                <schedule>
                    <second>0</second>
                    <minute>0</minute>
                    <hour>8</hour>
                    <day-of-month>20-Last</day-of-month>
                    <month>5</month>
                    <day-of-week>*</day-of-week>
                    <year>*</year>
                </schedule>
                <timeout-method>
                    <method-name>plantTheCorn</method-name>
                    <method-params/>
                </timeout-method>
                <persistent>true</persistent>
            </timer>
            <init-on-startup>false</init-on-startup>
            <concurrency-management-type>Container</concurrency-management-type>
            <depends-on/>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>java:module/ModuleName</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>movies-complete</env-entry-value>
            </env-entry>
            <env-entry>
                <env-entry-name>java:app/AppName</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value></env-entry-value>
            </env-entry>
            <env-entry>
                <env-entry-name>java:comp/ComponentName</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>Movies</env-entry-value>
            </env-entry>
            <resource-env-ref>
                <resource-env-ref-name>java:comp/BeanManager</resource-env-ref-name>
                <resource-env-ref-type>javax.enterprise.inject.spi.BeanManager</resource-env-ref-type>
            </resource-env-ref>
            <resource-env-ref>
                <resource-env-ref-name>java:comp/Validator</resource-env-ref-name>
                <resource-env-ref-type>javax.validation.Validator</resource-env-ref-type>
            </resource-env-ref>
            <resource-env-ref>
                <resource-env-ref-name>java:comp/ValidatorFactory</resource-env-ref-name>
                <resource-env-ref-type>javax.validation.ValidatorFactory</resource-env-ref-type>
            </resource-env-ref>
            <resource-env-ref>
                <resource-env-ref-name>java:comp/TransactionManager</resource-env-ref-name>
                <resource-env-ref-type>javax.transaction.TransactionManager</resource-env-ref-type>
            </resource-env-ref>
            <resource-env-ref>
                <resource-env-ref-name>java:comp/TransactionSynchronizationRegistry</resource-env-ref-name>
                <resource-env-ref-type>javax.transaction.TransactionSynchronizationRegistry</resource-env-ref-type>
            </resource-env-ref>
            <persistence-context-ref>
                <persistence-context-ref-name>java:comp/env/org.superbiz.injection.tx.Movies/entityManager</persistence-context-ref-name>
                <persistence-unit-name>movie-unit</persistence-unit-name>
                <persistence-context-type>Transaction</persistence-context-type>
                <mapped-name>movie-unit -2025446736</mapped-name>
                <injection-target>
                    <injection-target-class>org.superbiz.injection.tx.Movies</injection-target-class>
                    <injection-target-name>entityManager</injection-target-name>
                </injection-target>
            </persistence-context-ref>
            <security-role-ref>
                <role-name>Employee</role-name>
            </security-role-ref>
            <security-role-ref>
                <role-name>Manager</role-name>
            </security-role-ref>
            <security-role-ref>
                <role-name>Manager</role-name>
            </security-role-ref>
            <security-role-ref>
                <role-name>Manager</role-name>
            </security-role-ref>
        </session>
    </enterprise-beans>
    <interceptors>
        <interceptor>
            <interceptor-class>org.superbiz.injection.tx.AddInterceptor</interceptor-class>
            <around-invoke>
                <class>org.superbiz.injection.tx.AddInterceptor</class>
                <method-name>invoke</method-name>
            </around-invoke>
        </interceptor>
        <interceptor>
            <interceptor-class>org.superbiz.injection.tx.DeleteInterceptor</interceptor-class>
            <around-invoke>
                <class>org.superbiz.injection.tx.DeleteInterceptor</class>
                <method-name>invoke</method-name>
            </around-invoke>
        </interceptor>
        <interceptor>
            <interceptor-class>org.superbiz.injection.tx.ReadInterceptor</interceptor-class>
            <around-invoke>
                <class>org.superbiz.injection.tx.ReadInterceptor</class>
                <method-name>invoke</method-name>
            </around-invoke>
        </interceptor>
    </interceptors>
    <assembly-descriptor>
        <method-permission>
            <unchecked/>
            <method>
                <ejb-name>Movies</ejb-name>
                <method-name>*</method-name>
            </method>
        </method-permission>
        <method-permission>
            <role-name>Employee</role-name>
            <role-name>Manager</role-name>
            <method>
                <ejb-name>Movies</ejb-name>
                <method-name>addMovie</method-name>
                <method-params>
                    <method-param>org.superbiz.injection.tx.Movie</method-param>
                </method-params>
            </method>
        </method-permission>
        <method-permission>
            <role-name>Manager</role-name>
            <method>
                <ejb-name>Movies</ejb-name>
                <method-name>deleteMovie</method-name>
                <method-params>
                    <method-param>org.superbiz.injection.tx.Movie</method-param>
                </method-params>
            </method>
        </method-permission>
        <method-permission>
            <role-name>Manager</role-name>
            <method>
                <ejb-name>Movies</ejb-name>
                <method-name>plantTheCorn</method-name>
                <method-params/>
            </method>
        </method-permission>
        <method-permission>
            <unchecked/>
            <method>
                <ejb-name>Movies</ejb-name>
                <method-name>getMovies</method-name>
                <method-params/>
            </method>
        </method-permission>
        <container-transaction>
            <method>
                <ejb-name>Movies</ejb-name>
                <method-name>getMovies</method-name>
                <method-params/>
            </method>
            <trans-attribute>Supports</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>Movies</ejb-name>
                <method-name>addMovie</method-name>
                <method-params>
                    <method-param>org.superbiz.injection.tx.Movie</method-param>
                </method-params>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>Movies</ejb-name>
                <method-name>deleteMovie</method-name>
                <method-params>
                    <method-param>org.superbiz.injection.tx.Movie</method-param>
                </method-params>
            </method>
            <trans-attribute>Mandatory</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>Movies</ejb-name>
                <method-name>plantTheCorn</method-name>
                <method-params/>
            </method>
            <trans-attribute>Supports</trans-attribute>
        </container-transaction>
        <container-concurrency>
            <method>
                <ejb-name>Movies</ejb-name>
                <method-name>*</method-name>
            </method>
            <concurrency-attribute>Write</concurrency-attribute>
        </container-concurrency>
        <container-concurrency>
            <method>
                <ejb-name>Movies</ejb-name>
                <method-name>getMovies</method-name>
                <method-params/>
            </method>
            <concurrency-attribute>Read</concurrency-attribute>
        </container-concurrency>
        <container-concurrency>
            <method>
                <ejb-name>Movies</ejb-name>
                <method-name>plantTheCorn</method-name>
                <method-params/>
            </method>
            <concurrency-attribute>Read</concurrency-attribute>
        </container-concurrency>
        <interceptor-binding>
            <ejb-name>Movies</ejb-name>
            <interceptor-class>org.superbiz.injection.tx.ReadInterceptor</interceptor-class>
            <exclude-default-interceptors>false</exclude-default-interceptors>
            <exclude-class-interceptors>false</exclude-class-interceptors>
            <method>
                <method-name>plantTheCorn</method-name>
                <method-params/>
            </method>
        </interceptor-binding>
        <interceptor-binding>
            <ejb-name>Movies</ejb-name>
            <interceptor-class>org.superbiz.injection.tx.DeleteInterceptor</interceptor-class>
            <exclude-default-interceptors>false</exclude-default-interceptors>
            <exclude-class-interceptors>false</exclude-class-interceptors>
            <method>
                <method-name>deleteMovie</method-name>
                <method-params>
                    <method-param>org.superbiz.injection.tx.Movie</method-param>
                </method-params>
            </method>
        </interceptor-binding>
        <interceptor-binding>
            <ejb-name>Movies</ejb-name>
            <interceptor-class>org.superbiz.injection.tx.AddInterceptor</interceptor-class>
            <exclude-default-interceptors>false</exclude-default-interceptors>
            <exclude-class-interceptors>false</exclude-class-interceptors>
            <method>
                <method-name>addMovie</method-name>
                <method-params>
                    <method-param>org.superbiz.injection.tx.Movie</method-param>
                </method-params>
            </method>
        </interceptor-binding>
    </assembly-descriptor>
</ejb-jar>